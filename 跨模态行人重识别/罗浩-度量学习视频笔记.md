# 度量学习

首先，介绍它的定义：xxxx。为了达到这个目标，定义一个映射：F维图像信息空间转化D维特征空间 即reid模型



定义距离度量函数：我希望的是：两个特征空间距离衡量 把D维特征空间与D维特征空间转换到一个实际的距离。D维特征空间转化距离，这个是用来xxx，最常用 欧式 余弦。

把这句话翻译，一定义reid网络，在reid网络提取玩特征后，二计算两个特征向量进行距离度量。有了这两个工具后，我们还要怎么样才能得到最优的reid模型呢？我们需要最小化网络的度量损失来得到最优（最优：相同图片：，不同图片 即在特征空间聚类，文字抽象，请看图）



过程是怎么样的呢：第一步，行人检测，检测完后，用模型进行特征抽取，有xi和xj，进行距离度量。公式：xxxx。传统，手工提取特征，都一样，一般学习M矩阵，深度：观念反过来，why？M方阵-欧式距离，深度学习特征，更优秀的特征，具有聚类属性，



## 对比损失

每次输入一对图片，（同一个网络）孪生网络，提取特征，计算距离。后，在特征空间进行聚类，设计对比损失，理解：。首先，第一种情况，正样本对，y，标签，是否统一行人（y=1） 代入公式，优化，损失趋近于零，即当我输入正样本对，希望距离金坷垃小，就是说，两张图片拉近。负样本，后半想，括号+是max（z，0），z大于0，z小于0.我希望损失趋近于零，什么情况会趋近于零呢，z小于零，a-d小于零，等效，d大于a，两张图片大于a，a自己设置阈值，大于a就行，

最后概括，每次输入，正样本：拉近，负样本：推开



## 三元组损失

三图，有规则，分别是：xxx，xxx，xxx。锚点： 正样本：同一 负样本：不同，三元组。2id，2人。要做：拉近，推开。实现：设计loss。

数学公式：dap 小于dan ，小于一个间隔。 loss=和对比损失很像。解释：括号+的定义：。什么时候loss=0：（）小于零。即上公式，满足公式，loss=0即dap与dan存在间隔，计算loss，举例子：。这就是xx。dap dan小于0.3，loss=0

另一点，传统的 与绝对值无关，至于间隔有关。影响？好，坏？不好，检索，无关，排序而言。但跟踪问题，相同行人检测狂连接，需要阈值判断两张图片是否是同一，小于则连，故可靠的绝对距离。



## 改进三元组

dap能够比较好控制，加dap，loss小，后小，前小，举例子：。dap绝对距离，对loss有影响。方便行人追踪



总结（记得改一下负样本图）

对比：挑2图，可正，可负

三元：三图，要做的是：

改三：三图，加约束，两图距离，ap拉近



## 难样本：

什么是：。读文字：。就是，之前的实验，随机挑，跳简单的，简单：？。实验后面，选简单，缺点：。举例子：。

难：我希望，挑难给网络，泛化、识别能力能强，举例子：有书包、光照，同i个人，特征差异大。负样本难：外观相似、姿态、衣服相似。难，网络学，特征鲁棒，



## Hard loss

核心思想：读。组batch，特色，即PxK图片，K-1正，（p-1）xk负，在里面挑难（）。数学公式：A：集合，B：集合。max：距离越大正样本=越不想四=最难。min：同理

可视化：数学抽象，实现图，丑，明确，方阵，距离方阵。K=3人 P=n 3n特征 两两算距离。对角线，同一张图片，其他距离。红色：正样本距离。

第一步，平移。正放一起，重组方阵。后Max，每一行取，红max，绿min，即，最后得到2距离向量，3n维度，相减 + a 除以batch=Loss  的思路



## 话术总结

要介绍度量学习的知识，要怎么做呢？具体的逻辑思路是这样的：首先，我会先介绍一个知识点的相关概念，通常是引用ppt上的文字说明，这包括了它的定义、整体结构、基础延申拓展。然后再解释为什么（把这段话翻译一下、什么是xxxxx呢），在解释为什么的过程中，我们可以使用语序词来保证自己的逻辑性（首先xxxxx，然后xxxxx，有了上面的xxxxx，我们要xxxxx，那要怎么样才能xxxxx呢，我们可以xxxxx，什么是xxxxx呢？）。最后可以举例说明，举个例子吧：xxxxx

这个网络/损失的思路是：输入xxxx，经过xxxx，最后要xxxx，因此设计loss，优化模型

在介绍数学公式时，可以先说为了达到xxxx的目的，提出了这个数学公式。解释重要的符号，确保讲解清晰，同时可以分情况讨论，保证逻辑清晰。要让loss趋向于零，什么时候会趋向于零呢？xxxxx

最后总结：这个loss概括，把xxx与xxx的距离拉进，xxx与xxx的距离推远

